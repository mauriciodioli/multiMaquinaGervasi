{% extends "layouts/layout.html" %}

{% block title %}Listado de Trabajos{% endblock %}

{% block content %}

<div class="titulo-maquinas" style="position: relative; text-align: center; margin-bottom: 20px;">
    <h1>Lavori di Database</h1>
    <button 
        onclick="abrirModalCosto()" 
        class="btn btn-secondary" 
        style="position: absolute; right: 0; top: 50%; transform: translateY(-50%);">
        âš¡ Prezzo kWh
    </button>
</div>

    





<div class="contenedor-flex">
    {% if mensaje %}
        <div>{{ mensaje }}</div>
    {% endif %}

    <!-- Sidebar de mÃ¡quinas -->
    <div id="sidebar" class="maquinas-lista">
       
        
        <div class="cabecera-maquinas">
            <h2>Macchine Online</h2>
        </div>
        
        <div class="maquinas-header">
            <button class="btn-agregar">âž• Aggiungere</button>           
           
            <button class="btn-eliminar">âž– Rimuovere</button>
        </div>
        <div id="contenedor-online"></div>

      
          
       
    </div>

    <!-- Resizer -->
    <div id="resizer" class="resizer"></div>
    <div class="spinner-overlay" id="spinner" style="display:none;">
        <div class="spinner"></div>
    </div>
    <!-- Tabla de trabajos -->
    <div class="tabla-container">
        
        
          
        <table>
            <thead>
                <tr>
                    {% for columna in columnas %}
                        <th>{{ columna }}</th>
                    {% endfor %}
                </tr>
            </thead>
            <tbody>
                {% for trabajo in trabajos %}
                    <tr>
                        {% for valor in trabajo %}
                            <td>{{ valor }}</td>
                        {% endfor %}
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>








    <div id="modal-agregar" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Aggiungere Macchine</h2>          
            <button id="confirmar-agregar">Aggiungere</button>
        </div>
    </div>

    


    <div id="modal-eliminar" class="modal">
        <div class="modal-content">
            <span class="close close-eliminar">&times;</span>
            <h2>Rimuovere la Macchina</h2>
          
            <h2 id="modal-nombre-maquina"></h2>
            <button id="confirmar-eliminar">Rimuovere</button>
        </div>
    </div>
    
<!-- Modal -->
<div id="modal-costo" class="modal" style="display:none;">
    <div class="modal-content">
      <span class="close" onclick="cerrarModalCosto()">&times;</span>
      <h3>ðŸ’¶ Inserisci il prezzo kWh</h3>
      <input type="number" step="0.01" id="input-kwh" placeholder="Ej: 0.20" />
      <button onclick="confirmarCosto()" style="margin-top: 10px;">Accettare</button>
    </div>
  </div>
  

<link rel="stylesheet" href="{{ url_for('static', filename='css/maquinas/maquinas.css') }}">

<script src="{{ url_for('static', filename='js/maquinas/maquinas.js') }}"></script>
<script src="{{ url_for('static', filename='js/maquinas/crud_front_end_maquinas.js') }}"></script>
{% endblock %}
