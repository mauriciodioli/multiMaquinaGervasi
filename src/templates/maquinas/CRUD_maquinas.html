{% extends "layouts/layout.html" %}

{% block title %}Listado de Trabajos{% endblock %}

{% block content %}

<div class="container">
    <div class="row justify-content-center">
        
        <div class="col-md-10">
            <div class="titulo-maquinas">
                <h1>Macchine di Database</h1>
            </div>
            <button type="button" class="btn btn-primary mb-3" data-bs-toggle="modal" data-bs-target="#modal-agregar">
                <i class="fas fa-server me-2"></i> Agregar Máquina
            </button>

            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Nombre</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody id="tabla-maquinas">
                    <tr>
                        <td>Máquina Ejemplo 1</td>
                        <td>
                            <button type="button" class="btn btn-sm btn-warning" data-bs-toggle="modal" data-bs-target="#modal-modificar" data-maquina-id="1" data-maquina-nombre="Máquina Ejemplo 1">Modificar</button>
                            <button type="button" class="btn btn-sm btn-danger" data-bs-toggle="modal" data-bs-target="#modal-eliminar" data-maquina-id="1">Eliminar</button>
                        </td>
                    </tr>
                    <tr>
                        <td>Otra Máquina</td>
                        <td>
                            <button type="button" class="btn btn-sm btn-warning" data-bs-toggle="modal" data-bs-target="#modal-modificar" data-maquina-id="2" data-maquina-nombre="Otra Máquina">Modificar</button>
                            <button type="button" class="btn btn-sm btn-danger" data-bs-toggle="modal" data-bs-target="#modal-eliminar" data-maquina-id="2">Eliminar</button>
                        </td>
                    </tr>
                    </tbody>
            </table>
        </div>
    </div>
</div>

<div class="modal fade" id="modal-agregar" tabindex="-1" aria-labelledby="modal-agregar-label" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modal-agregar-label">Agregar Máquina</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="mb-3">
                    <label for="nueva-maquina" class="form-label">Nombre de la nueva máquina</label>
                    <input type="text" class="form-control" id="nueva-maquina" placeholder="Nombre de la nueva máquina">
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-primary" id="confirmar-agregar">Agregar</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modal-modificar" tabindex="-1" aria-labelledby="modal-modificar-label" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modal-modificar-label">Modificar Nombre de Máquina</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="mb-3">
                    <label for="nuevo-nombre-maquina" class="form-label">Nuevo nombre de máquina</label>
                    <input type="text" class="form-control" id="nuevo-nombre-maquina" placeholder="Nuevo nombre de máquina">
                    <input type="hidden" id="maquina-id-modificar">
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-warning" id="confirmar-modificar">Modificar</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modal-eliminar" tabindex="-1" aria-labelledby="modal-eliminar-label" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modal-eliminar-label">Eliminar Máquina</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>¿Estás seguro que quieres eliminar esta máquina?</p>
                <input type="hidden" id="maquina-id-eliminar">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-danger" id="confirmar-eliminar">Eliminar</button>
            </div>
        </div>
    </div>
</div>

<link rel="stylesheet" href="{{ url_for('static', filename='css/maquinas/crud_maquinas.css') }}">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="{{ url_for('static', filename='js/maquinas/crud_maquinas.js') }}"></script>
{% endblock %}